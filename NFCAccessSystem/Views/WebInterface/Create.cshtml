@using Microsoft.AspNetCore.Mvc.TagHelpers
@model NFCAccessSystem.Data.User

@{
    ViewData["Title"] = "Create";
}

<h1>User Enrollment</h1>

<hr/>

<table>
    <colgroup>
        <col span="1" style="width: 50%;">
        <col span="1" style="width: 50%;">
    </colgroup>
    <tr>
        <td>
            <div class="row">
                <div class="col-md-10">
                    <form asp-action="Create">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="form-group">
                            <p>@ViewBag.NFCHint</p>
                            <label asp-for="TagUid" class="control-label"></label>
                            <input asp-for="TagUid" class="form-control"/>
                            <span asp-validation-for="TagUid" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Name" class="control-label"></label>
                            <input asp-for="Name" class="form-control"/>
                            <span asp-validation-for="Name" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="TotpSecret" class="control-label"></label>
                            <input asp-for="TotpSecret" class="form-control" readonly/>
                            <span asp-validation-for="TotpSecret" class="text-danger"></span>
                        </div>
                        <p></p>
                        <div class="form-group form-check">
                            <label class="form-check-label">
                                <input class="form-check-input" asp-for="Admin"/> @Html.DisplayNameFor(model => model.Admin)
                            </label>
                        </div>
                        <div class="form-group form-check">
                            <label class="form-check-label">
                                <input class="form-check-input" asp-for="OfflineAuth"/> @Html.DisplayNameFor(model => model.OfflineAuth)
                            </label>
                        </div>
                        <p></p>
                        <div class="form-group">
                            <label asp-for="MostRecentTotp" class="control-label"></label>
                            <input asp-for="MostRecentTotp" class="form-control"/>
                            <span asp-validation-for="MostRecentTotp" class="text-danger"></span>
                        </div>
                        <p></p>
                        <div class="form-group">
                            <input type="submit" value="Create" class="btn btn-primary"/>
                        </div>
                    </form>
                </div>
            </div>
        </td>
        <td>
            <div class="form-group">
                <img src="data:image/png;base64,@ViewBag.QrCode"/>
            </div>
            <p>
                Please scan this QR code with an authenticator app of your choice, such as Google Authenticator and
                Microsoft Authenticator. These apps are freely available on the App Store and Google Play.
            </p>
            <p>
                If you have tourble scanning the code above, you may also type in the secret manually in the app.
                Enter the name of this place if you wish (it does not affect passcode generation), and all other settings
                can be left as default.
            </p>
            <p>The code you get from your authenticator app is the confirmation code.</p>
        </td>
    </tr>
</table>


<div>
    <a asp-action="Index">Back to List</a>
</div>